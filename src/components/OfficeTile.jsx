import { TILE, MAP_COLS, MAP_ROWS, T, getRoom } from '../lib/constants'

export default function OfficeTile({ type, x, y }) {
  const base = { position: 'absolute', left: x * TILE, top: y * TILE, width: TILE, height: TILE, boxSizing: 'border-box', overflow: 'hidden' }
  const floorBg = '#1e1e24', floorLine = '#24242c'
  const fOv = <div style={{ position: 'absolute', inset: 0, backgroundImage: `linear-gradient(${floorLine} 1px,transparent 1px),linear-gradient(90deg,${floorLine} 1px,transparent 1px)`, backgroundSize: `${TILE}px ${TILE}px`, opacity: 0.5 }} />

  switch (type) {
    case 0: return <div style={{ ...base, background: floorBg }}>{fOv}</div>
    case 1: return <div style={{ ...base, background: 'linear-gradient(180deg,#14141a,#0e0e14)', borderBottom: y < MAP_ROWS - 1 && import.meta.env ? '3px solid #0a0a10' : 'none', borderRight: '2px solid #0a0a10' }}><div style={{ position: 'absolute', inset: 0, background: 'repeating-linear-gradient(90deg,transparent,transparent 11px,rgba(255,255,255,0.015) 11px,rgba(255,255,255,0.015) 12px)' }} /></div>
    case 8: return <div style={{ ...base, background: '#1a1a20', border: '1px solid #2a2a32' }}><div style={{ position: 'absolute', inset: 0, display: 'flex', alignItems: 'center', justifyContent: 'center' }}><div style={{ width: TILE * 0.6, height: 5, background: 'linear-gradient(90deg,#333,#444,#333)', borderRadius: 3 }} /></div></div>
    case 2: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 4, top: 6, right: 4, bottom: 10, background: 'linear-gradient(135deg,#2a2520,#332d28)', borderRadius: 5, border: '1px solid #3d362e', boxShadow: '0 3px 8px rgba(0,0,0,0.4)' }}><div style={{ position: 'absolute', top: -4, left: '50%', transform: 'translateX(-50%)', width: 22, height: 16, background: 'linear-gradient(135deg,#1a1a22,#222230)', borderRadius: 3, border: '1px solid #333340' }}><div style={{ position: 'absolute', inset: 2, background: 'linear-gradient(135deg,#0d1117,#161b22)', borderRadius: 2 }}><div style={{ position: 'absolute', top: 2, left: 2, width: 4, height: 2, background: T.accent, opacity: 0.3, borderRadius: 1 }} /><div style={{ position: 'absolute', top: 5, left: 2, right: 3, height: 1, background: '#2a2a35', borderRadius: 1 }} /></div></div><div style={{ position: 'absolute', bottom: 3, left: '50%', transform: 'translateX(-50%)', width: 18, height: 6, background: '#1a1a20', borderRadius: 2, border: '1px solid #2a2a30' }} /></div></div>
    case 3: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', bottom: 4, left: '50%', transform: 'translateX(-50%)', width: 18, height: 12, background: 'linear-gradient(180deg,#4a3528,#3a2818)', borderRadius: '3px 3px 6px 6px', border: '1px solid #5a4538' }} /><svg style={{ position: 'absolute', top: 2, left: '50%', transform: 'translateX(-50%)' }} width={30} height={30} viewBox="0 0 30 30"><ellipse cx={15} cy={18} rx={6} ry={10} fill="#1a4a2a" transform="rotate(-15 15 18)" /><ellipse cx={15} cy={18} rx={6} ry={10} fill="#1d5530" transform="rotate(15 15 18)" /><ellipse cx={15} cy={16} rx={5} ry={9} fill="#22663a" transform="rotate(-5 15 16)" /></svg></div>
    case 4: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', inset: 4, background: 'linear-gradient(135deg,#1a2040,#162050)', borderRadius: 8, border: '1px solid #253060', boxShadow: 'inset 0 1px 12px rgba(59,158,255,0.06)' }} /></div>
    case 5: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 3, top: 5, right: 3, bottom: 5, background: 'linear-gradient(180deg,#282830,#202028)', borderRadius: 6, border: '1px solid #333340' }}><div style={{ position: 'absolute', top: 4, left: 6, width: 10, height: 10, borderRadius: '50%', border: '2px solid #444450', background: '#1a1a22' }} /></div></div>
    case 6: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 3, top: 8, right: 3, bottom: 5, background: 'linear-gradient(135deg,#3a1a40,#2a1530)', borderRadius: 8, border: '1px solid #4a2550' }}><div style={{ position: 'absolute', top: 3, left: 4, right: 4, bottom: 3, background: 'linear-gradient(135deg,#4a2555,#3a1a45)', borderRadius: 5 }} /></div></div>
    case 7: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 6, top: 4, right: 6, bottom: 8, background: '#e8e4e0', borderRadius: 4, border: '2px solid #888' }}><div style={{ position: 'absolute', top: 4, left: 4, width: 8, height: 1, background: '#3b9eff', borderRadius: 1 }} /><div style={{ position: 'absolute', top: 8, left: 4, width: 14, height: 1, background: '#ff4d6a', borderRadius: 1 }} /><div style={{ position: 'absolute', top: 12, left: 4, width: 10, height: 1, background: T.accent, borderRadius: 1 }} /></div></div>
    case 9: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 8, top: 3, right: 8, bottom: 3, background: '#0e0e14', borderRadius: 4, border: '1px solid #2a2a32' }}>{[0, 1, 2, 3].map(i => <div key={i} style={{ position: 'absolute', top: 4 + i * 8, left: 3, right: 3, height: 5, background: '#16161e', borderRadius: 2, border: '1px solid #222230' }}><div style={{ position: 'absolute', top: 1, right: 2, width: 3, height: 3, borderRadius: '50%', background: i % 2 === 0 ? T.accent : '#ffb224', boxShadow: `0 0 4px ${i % 2 === 0 ? T.accent : '#ffb224'}`, animation: `pulse ${1.5 + i * 0.3}s infinite` }} /></div>)}</div></div>
    case 10: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 4, top: 3, right: 4, bottom: 4, background: '#2a2018', borderRadius: 4, border: '1px solid #3d3020' }}>{[0, 1, 2].map(i => <div key={i} style={{ position: 'absolute', top: 3 + i * 12, left: 3, right: 3, height: 10, borderBottom: '2px solid #3d3020', display: 'flex', gap: 2, padding: 1 }}>{[...Array(4)].map((_, j) => <div key={j} style={{ flex: 1, background: ['#6366f1', '#ec4899', '#14b8a6', '#f97316', '#8b5cf6', '#84cc16'][(i * 4 + j) % 6], borderRadius: 1, opacity: 0.5 }} />)}</div>)}</div></div>
    case 11: return <div style={{ ...base, background: '#1c1c28' }}><div style={{ position: 'absolute', inset: 0, background: 'linear-gradient(135deg,rgba(99,102,241,0.04),rgba(99,102,241,0.02))' }} /><div style={{ position: 'absolute', inset: 0, backgroundImage: `linear-gradient(rgba(99,102,241,0.06) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,0.06) 1px,transparent 1px)`, backgroundSize: `${TILE}px ${TILE}px` }} /></div>
    case 12: return <div style={{ ...base, background: '#1e1a24' }}><div style={{ position: 'absolute', inset: 0, background: 'linear-gradient(135deg,rgba(217,70,239,0.04),rgba(217,70,239,0.02))' }} /></div>
    case 13: return <div style={{ ...base, background: '#1c1c28' }}><div style={{ position: 'absolute', left: 10, top: 6, right: 10, bottom: 6, background: 'linear-gradient(180deg,#2a2a30,#1e1e24)', borderRadius: 6, border: '1px solid #3a3a44' }}><div style={{ position: 'absolute', top: 2, right: 3, width: 3, height: 3, borderRadius: '50%', background: '#ff4d6a', boxShadow: '0 0 4px #ff4d6a', animation: 'pulse 2s infinite' }} /></div></div>
    case 14: return <div style={{ ...base, background: '#1c1c28' }}><div style={{ position: 'absolute', left: 14, top: 5, right: 14, bottom: 5, background: 'linear-gradient(180deg,#3b9eff22,#2a2a30)', borderRadius: 8, border: '1px solid #3b9eff33' }} /></div>
    case 15: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', left: 6, top: 10, right: 6, bottom: 6, background: 'linear-gradient(180deg,#2a2a30,#222228)', borderRadius: 4, border: '1px solid #333340' }}><div style={{ position: 'absolute', top: -3, left: 3, right: 3, height: 4, background: '#e8e4e0', borderRadius: '3px 3px 0 0' }} /></div></div>
    case 16: return <div style={{ ...base }}><div style={{ position: 'absolute', bottom: 6, left: '50%', transform: 'translateX(-50%)', width: 12, height: 8, background: 'linear-gradient(180deg,#5a4538,#4a3528)', borderRadius: '2px 2px 4px 4px' }} /><svg style={{ position: 'absolute', bottom: 12, left: '50%', transform: 'translateX(-50%)' }} width={20} height={18} viewBox="0 0 20 18"><ellipse cx={10} cy={10} rx={4} ry={7} fill="#22663a" transform="rotate(-10 10 10)" /><ellipse cx={10} cy={10} rx={4} ry={7} fill="#1d5530" transform="rotate(10 10 10)" /></svg></div>
    case 17: return <div style={{ ...base, background: floorBg }}>{fOv}<div style={{ position: 'absolute', top: 0, left: '50%', transform: 'translateX(-50%)', width: 36, height: 36, borderRadius: '50%', background: 'radial-gradient(circle,rgba(255,178,36,0.08),transparent 70%)' }} /><div style={{ position: 'absolute', bottom: 4, left: '50%', transform: 'translateX(-50%)', width: 2, height: 28, background: 'linear-gradient(180deg,#555,#333)' }} /><div style={{ position: 'absolute', top: 4, left: '50%', transform: 'translateX(-50%)', width: 14, height: 10, background: 'linear-gradient(180deg,#ffb22433,#ffb22411)', borderRadius: '50%', border: '1px solid #ffb22433' }} /></div>
    default: return <div style={{ ...base, background: floorBg }} />
  }
}
